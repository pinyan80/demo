<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">	
<title>morningcode</title>

<!-- dataTables -->
<link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.css" />
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
<!-- dataTables -->

<style>
body {
    background-color: #8BC34A;
}

.navbar {
    margin-bottom: 20px;
}

.categories {
    display: flex;
    justify-content: center;
    margin: 20px 0;
}

.category {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    margin: 0 5px;
    border-radius: 5px;
    cursor: pointer;
    text-decoration: none;
}

.category:hover {
    background-color: #45a049;
}

.table-container {
    margin-top: 60px;
}

table {
    width: 100%;
    border-collapse: collapse;
}

table th, table td {
    padding: 10px;
    text-align: left;
    border: 1px solid #ddd;
}

table th {
    background-color: #4CAF50;
    color: white;
}

</style>


</head>
<body>

	<nav
		class="navbar navbar-expand-md navbar-dark bg-success fixed-top justify-content-center">
		<div align="center">
			<h2>菜單</h2>
			
<!-- 			可以改為回主畫面 -->
<!-- 			<h3> -->
<!-- 				<a class="navbar-brand" th:href="@{/meals/select_page}"><img -->
<!-- 					th:src="@{/images/back1.gif}">回查詢頁<label th:text="${success}"></label></a> -->
<!-- 			</h3> -->


		</div>
	</nav>
	
	<div class="categories">

	</div>

	<table id="example" class="display" style="width: 100%">
		<thead>
			<tr style="background-color: #CCCCFF">

				<th>餐點名稱</th>
				<th>價格</th>
				<th>描述</th>
				<th>圖片</th>
				<th>餐點評價總評分</th>
				<th>加入購物車</th>
				<th>加入最愛</th>				
			</tr>
		</thead>

		<tbody>
			<th:block th:each="mealsVO, iterStat : ${mealsListData}">
			
				<tr>

					<td th:text="${mealsVO.mealsName}"></td>
					<td th:text="${mealsVO.mealsPrice}"></td>
					<td>
                <img th:src="@{/mealspic/DBGifReader(mealPicId=${mealspicListData[iterStat.index].mealPicId})}"
                     width="100px" height="100px">
            </td>
                                
					<td th:text="${mealsVO.mealsTotalScore}"></td>
					
<!-- **還要改購物車路徑 -->
					<td>
						<form method="post" th:action="@{**}"
							style="margin-bottom: 0px;">
							<input type="submit" value="加入購物車"> <input type="hidden"
								name="mealsId" th:value="${mealsVO.mealsId}">
						</form>

					</td>
					
<!-- 加入最愛 -->
					<td>
						<form method="post" th:action="@{/collect/updateFavorite}"
							style="margin-bottom: 0px;">
							<input type="submit" value="加入最愛"> 
<!-- 							<input type="hidden" name="memNo" th:value="${memVO.memNo}"> -->
<!-- 							<input type="hidden" name="mealsId" th:value="${mealsVO.mealsId}"> -->
<!-- 							<input type="hidden" name="favorite" value="1"> -->
						</form>

					</td>
					
				</tr>
			</th:block>
		</tbody>
	</table>

</body>
</html>